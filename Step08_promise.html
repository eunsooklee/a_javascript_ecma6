<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step08_promise.html</title>
</head>
<body>
    <script>
        /* 비동기 동작의 예
        //메뉴를 주문하는 함수라고 가정하자
        function order(menu, callback){
            //메뉴를 준비하는데 시간이 랜덤
            const delay=Math.random()*5000+5000; //5000~10000 사이의 랜덤한 숫자
            setTimeout(function(){
                console.log(menu+" 가 준비 되었습니다.");
                callback(menu);
            }, delay);
        }

        //커피를 주문하고 커피가 준비되면 호출되는 함수 전달하기
        order("커피", function(item){
            //커피가 준비 됐을때 할 작업
            console.log(item+" 나왔습니다");
            //샌드위치를 주문하고 샌드위치가 준비되면 호출되는 함수
            order("샌드위치", function(item){
                //샌드위치가 준비 되었을때 하고 싶은 작업을 하는 곳
                console.log(item+" 를 맛있게 드세요");
                //아이스크림을 주문하고 아이스크림이 준비되면 호출되는 함수 전달
                order("아이스크림", function(item){
                    //아이스크림이 준비 됐을때 작업
                    console.log(item+"후식 나왔습니다")
                });
            });
        });
        /*
        order("커피", function(item){});
        order("샌드위치", function(item){});
        order("아이스크림", function(item){});
        */
       

        new Promise(function(resolve, reject){
            setTimeout(function() {
                resolve("커피");
                console.log("커피가 준비 되었습니다.");
            }, Math.random()*5000+5000);
        })
        .then(function(result) {
            console.log(result+" 나왔습니다"); 
            return result="샌드위치"
        })
        .then(function(result) {
            console.log(result+"가 준비 되었습니다.");
            console.log(result+"를 맛있게 드세요"); 
            return result="아이스크림"
        })
        .then(function(result) {
            console.log(result+"가 준비 되었습니다.");
            console.log(result+" 후식 나왔습니다"); 
        });

        let nums=[10, 20, 30];
        nums.forEach(function(){

        });
        nums.map(function(){
            
        });
        nums.filter(function(){
            
        });
    </script>
    <!-- 콜백지옥 -->
</body>
</html>